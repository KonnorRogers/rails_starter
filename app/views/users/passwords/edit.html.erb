<h2><%= t("auth.change_password") %></h2>

<%= form_with(model: resource, url: password_path(resource_name), method: :put) do |f| %>
  <%= render "users/shared/error_messages", resource: resource %>
  <%= f.hidden_field :reset_password_token %>

  <kpc-form-group>
    <%= sl_password **form_fields(resource, :password), autocomplete: "new-password" do %>
      <label slot="label">
        <%= t("auth.new_password") %>
        <% if @minimum_password_length %>
          <small>(<%= @minimum_password_length %> characters minimum)</small><br />
        <% end %>
      </label>
    <% end %>
  </kpc-form-group>

  <kpc-form-group>
    <%= sl_password autocomplete: "new-password", label: t("auth.confirm_new_password"),
                    **form_fields(resource, :password_confirmation) %>
  </kpc-form-group>

  <sl-button-group>
    <%= sl_submit t("auth.change_password") %>
  </sl-button-group>
<% end %>

<%= render "users/shared/links" %>
